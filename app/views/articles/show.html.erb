<p>
  <strong>Title:</strong>
  <%= @article.title %>
</p>
 
<p>
  <strong>Text:</strong>
  <%= @article.text %>
</p>

<% if current_user == @article.user %>
  <%= link_to 'Destroy', article_path(@article), method: :delete, data: { confirm: 'Are you sure?' } %>
<% end %>

<h2>Comments</h2>
<% @article.comments.each do |comment| %>
  <p>
    <strong><%= comment.user.name %>:</strong>
    <%= comment.body %> <% if current_user == comment.user %>- <%= link_to 'Destroy', article_comment_path(@article.id, comment), method: :delete, data: {confirm: 'Are you sure?'} %><% end %>
  </p>
<% end %>

<% if current_user.present? %>
  <h2>Add a comment:</h2>
  <%= form_for([@article, @article.comments.build]) do |f| %>
    <p>
      <%= f.label :body %><br>
      <%= f.text_area :body %>
    </p>

    <%= f.hidden_field :user_id, :value => current_user.id %>

    <p>
      <%= f.submit %>
    </p>
  <% end %>
<% end %>

<%= link_to 'Edit', edit_article_path(@article) %> |
<%= link_to 'Back', articles_path %>